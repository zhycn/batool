---
import { UI_CONFIG } from '../types/settings';

const { placeholder = UI_CONFIG.PLACEHOLDERS.SEARCH || '搜索工具...' } =
  Astro.props;
---

<!--
  搜索框组件 - 使用 DaisyUI input 和 kbd 组件
-->
<div class="mx-auto max-w-3xl">
  <!-- DaisyUI input 组件 -->
  <label
    class="input input-lg input-bordered border-base-content/20 flex w-full items-center gap-3 rounded-xl pr-3 shadow-none outline-none focus:outline-0"
  >
    <!-- 搜索图标 -->
    <svg
      class="h-5 w-5 shrink-0 opacity-50"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
    >
      <circle cx="11" cy="11" r="8"></circle>
      <path d="m21 21-4.3-4.3"></path>
    </svg>

    <!-- 搜索输入框 -->
    <input
      id="search-input"
      type="text"
      placeholder={placeholder}
      autocomplete="off"
      class="grow border-none bg-transparent px-0"
    />

    <!-- 右侧操作区 -->
    <div class="flex items-center gap-3">
      <!-- 清除按钮 -->
      <button
        id="clear-search"
        type="button"
        class="btn btn-ghost btn-circle btn-sm text-base-content/50 hidden"
        aria-label="清除搜索"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-4 w-4"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          stroke-width="2"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M6 18L18 6M6 6l12 12"
          ></path>
        </svg>
      </button>

      <!-- DaisyUI kbd 组件 - 快捷键提示 -->
      <kbd class="kbd text-base-content/50 hidden md:inline-flex">⌘K</kbd>
    </div>
  </label>
</div>
