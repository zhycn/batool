---
import { UI_CONFIG } from "../types/settings";

const { placeholder = UI_CONFIG.PLACEHOLDERS.SEARCH || "搜索工具..." } =
  Astro.props;
---

<!--
  搜索框组件
  - 100% 宽度
  - 统一内边距为 6 单位
  - 统一边框颜色为 border-base-content/10
--><!-- 搜索区域容器 -->
<div class="border-b border-t bg-base-100 border-base-content/5 py-4">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="relative group">
      <!-- 搜索输入框 -->
      <input
        id="search-input"
        type="text"
        placeholder={placeholder}
        autocomplete="off"
        class="search-input bg-base-100 w-full px-5 py-3 md:py-4 text-base rounded-full border border-base-content/10 focus:border-primary/50 focus:bg-base-100 focus:outline-none focus:shadow-[0_0_0_4px_rgba(99,102,241,0.1)] placeholder:text-base-content/30 transition-all duration-200"
      />

      <!-- 右侧图标区 -->
      <div
        class="absolute right-4 top-1/2 -translate-y-1/2 flex items-center gap-2"
      >
        <!-- 清除按钮 -->
        <button
          id="clear-search"
          type="button"
          class="hidden p-2 rounded-full hover:bg-primary/10 text-base-content/30 hover:text-primary/70 transition-colors duration-200"
          aria-label="清除搜索"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="w-4 h-4"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            stroke-width="2"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>

        <!-- 快捷键提示 -->
        <kbd
          class="hidden md:inline-flex px-2.5 py-1.5 text-xs font-medium text-base-content/30 bg-base-content/5 rounded-lg border border-base-content/10 transition-colors duration-200"
          >⌘K
        </kbd>
      </div>
    </div>
  </div>
</div>
