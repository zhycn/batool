---
import { UI_CONFIG } from "../types/settings";

const { placeholder = UI_CONFIG.PLACEHOLDERS.SEARCH || "搜索工具..." } =
  Astro.props;
---

<!--
  搜索框组件 - 使用 DaisyUI input 和 kbd 组件
-->
<div class="border-b border-t bg-base-100 border-base-content/5 py-4">
  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- DaisyUI input 组件 -->
    <label
      class="input input-lg input-bordered flex items-center w-full gap-2 rounded-xl pr-2 border-base-content/20 outline-none focus:outline-0 shadow-none"
    >
      <!-- 搜索图标 -->
      <svg
        class="h-5 w-5 opacity-50 shrink-0"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
      >
        <circle cx="11" cy="11" r="8"></circle>
        <path d="m21 21-4.3-4.3"></path>
      </svg>

      <!-- 搜索输入框 -->
      <input
        id="search-input"
        type="text"
        placeholder={placeholder}
        autocomplete="off"
        class="grow bg-transparent border-none px-0"
      />

      <!-- 右侧操作区 -->
      <div class="flex items-center gap-2">
        <!-- 清除按钮 -->
        <button
          id="clear-search"
          type="button"
          class="hidden btn btn-ghost btn-circle btn-sm text-base-content/50"
          aria-label="清除搜索"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-4 w-4"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            stroke-width="2"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>

        <!-- DaisyUI kbd 组件 - 快捷键提示 -->
        <kbd class="kbd hidden md:inline-flex text-base-content/50">⌘K</kbd>
      </div>
    </label>
  </div>
</div>
